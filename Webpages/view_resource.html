<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <title>View Resource - Smart Neighbourhood</title>

    <!-- ====== Google Fonts ====== -->
    <link href="view_resource_files/css.css" rel="stylesheet">

    <link rel="stylesheet" href="view_resource_files/bootstrap.css">
    <link rel="stylesheet" href="view_resource_files/fontawesome-all.css">
    <link rel="stylesheet" href="view_resource_files/lightbox.css">
    <link rel="stylesheet" href="view_resource_files/owl.css">
    <link rel="stylesheet" href="view_resource_files/animate.css">
    <link rel="stylesheet" href="view_resource_files/style.css">
    <link rel="stylesheet" href="view_resource_files/responsive.css">

    <style>
.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: gray;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  padding: 12px 16px;
  z-index: 1;
}

.dropdown:hover .dropdown-content {
  display: block;
}


label{
  display: inline-block;
  background-color: #E49B0F;
  color: white;
  padding: 0.5rem;
  font-family: sans-serif;
  border-radius: 0.3rem;
  cursor: pointer;
  margin-top: 1rem;
  border-radius: 12px;
  width: 100px;
  font-size: 14px;
}



</style>

</head>

<body data-spy="scroll" data-target=".navbar-nav" onload="view_resource_onload()">

    <!-- ====== Header ====== -->
    <header id="header" class="header">
        <!-- ====== Navbar ====== -->
        <nav class="navbar navbar-expand-lg fixed-top bg-primari">
            <div class="container">
                <!-- Logo -->
                <a class="navbar-brand logo" href="index.html">
                    <img src="view_resource_files/TRY_TRY.png" alt="logo">
                </a>
                <!-- // Logo -->

                <!-- Mobile Menu -->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-expanded="false"><span><i class="fa fa-bars"></i></span></button>
                <!-- Mobile Menu -->

                 <div class="collapse navbar-collapse main-menu" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item active"><a class="nav-link" href="http://localhost:4000/index_main.html">HOME</a></li>

                         <div class="dropdown">
                        <li class="nav-item"><a class="nav-link "><span id="user"></span></a></li>

                        <div class="dropdown-content">
                        <li class="nav-item"><a class="nav-link" onclick="logout()">LOGOUT</a></li>
                        </div>
                        </div>

                        <div class="dropdown">
                        <li class="nav-item"><a class="nav-link active" href="http://localhost:4000/after_login.html">MENU</a></li>
                        <div class="dropdown-content">
                        <li class="nav-item"><a class="nav-link pr0" href="http://localhost:4000/add_resource_metadata.html">ADD RESOURCES</a></li>
                        <li class="nav-item"><a class="nav-link pr0" href="http://localhost:4000/view_resource.html">VIEW RESOURCES</a></li>
                        <li class="nav-item"><a class="nav-link pr0" href="http://localhost:4000/glosary.html">Glosary</a></li>
                        </div>
                        </div>

                        <li class="nav-item"><a class="nav-link pr0" href="http://localhost:4000/support.html">SUPPORT</a></li>

                        <li class="nav-item"><a class="nav-link pr0" href="http://localhost:4000/Contact_Us.html">CONTACT US</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- ====== // Navbar ====== -->

        <!-- Page Title -->
        <div class="page-title bg-img section-padding bg-overlay" style="background-image: url(assets/images/1.png); height:50px;">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-6 text-center">
                        
                    </div>
                </div>
            </div>
        </div>
        <!-- // Page Title -->
    </header>
    <!-- ====== // Header ====== -->

<div>

        <!-- ====== Contact Area ====== -->
    <div align="center">    
 <section class="blog-section">
     <div class="page-title bg-img section-padding bg-overlay" style="background-image: url(assets/images/5.jpg);height:800px;  margin-top:-95px; margin-bottom:-50px;">
        
        <div class="container">
            <!-- Section Title -->
            <div class="row justify-content-center">
                <div class="col-lg-6 ">
                    <div class="section-title text-center" style="margin-top:-50px;">
                        <h2>View Resources</h2> 
                    </div>
                </div>
            </div>
            <!-- //Section Title -->

            <div class="row">
                <div class="col-lg-8">
                    <div class="blog-area">
                        <div class="row">
                            <!-- Single Blog -->
                            <div class="col-sm-6">
                                <div class="single-blog">
                                    

                                    <h5 class="blog-title"><a href="#" onclick="details1()" class="font-weight-bold"> Name: <span id="resource0_name"></span> </a></h5>
                                    <p><b>Type:</b> <span id="resource0_type"> </span> </p>
                                    <p> <b>Publish Date: </b> <span id="resource0_date"></span></p>
                                    <p> <b>Catagory:</b> <span id="resource0_catagory"></span></p>
                                    
                                </div>
                            </div>
                            <!-- Single Blog -->
                            <!-- Single Blog -->
                            <div class="col-sm-6">
                                <div class="single-blog1">
                                    
                                    <h5 class="blog-title"><a href="#" onclick="details2()" class="font-weight-bold"> Name: <span id="resource1_name"></span> </a></h5>
                                    <p> <b>Type: </b><span id="resource1_type"> </span> </p>
                                    <p> <b>Publish Date: </b><span id="resource1_date"></span></p>
                                    <p> <b>Catagory:</b> <span id="resource1_catagory"></span></p>
                                    
                                </div>
                            </div>
                            <!-- Single Blog -->
                            <!-- Single Blog -->
                            <div class="col-sm-6">
                                <div class="single-blog">
                                    
                                    <h5 class="blog-title"><a href="#" onclick="details3()" class="font-weight-bold"> Name: <span id="resource2_name"></span> </a></h5>
                                    <p> <b> Type: </b><span id="resource2_type"> </span> </p>
                                    <p> <b>Publish Date: </b><span id="resource2_date"></span></p>
                                    <p> <b>Catagory: </b><span id="resource2_catagory"></span></p>
                                    
                                </div>
                            </div>
                            <!-- Single Blog -->
                            <!-- Single Blog -->
                            <div class="col-sm-6">
                                <div class="single-blog1">
                                    
                                    <h5 class="blog-title"><a href="#" onclick="details4()" class="font-weight-bold"> Name: <span id="resource3_name"></span> </a></h5>
                                    <p> <b> Type:</b> <span id="resource3_type"> </span> </p>
                                    <p><b>Publish Date: </b><span id="resource3_date"></span></p>
                                    <p> <b>Catagory: </b> <span id="resource3_catagory"></span></p>
                                    
                                </div>
                            </div>
                            <!-- Single Blog -->
                            
                            <!-- Single Blog 
                            <div class="col-sm-6">
                                <div class="single-blog">
                                    
                                    <h4 class="blog-title"><a href="single-blog.html">Full Responsive</a></h4>
                                    <p class="blog-meta"><a href="#">AL Mamun</a>, 22 FEB 2018</p>
                                    <p> officiis non.</p>
                                    
                                </div>
                            </div>
                            Single Blog -->

                            <!-- Single Blog 
                            <div class="col-sm-6">
                                <div class="single-blog1">
                                    
                                    <h4 class="blog-title"><a href="single-blog.html">Full Responsive</a></h4>
                                    <p class="blog-meta"><a href="#">AL Mamun</a>, 22 FEB 2018</p>
                                    <p> non.</p>
                                    
                                </div>
                            </div>
                            Single Blog -->
                           
                            
                            
                        </div>
                        <!--Load More Section
                            
                        <div class="row justify-content-center">
                            <div class="col-lg-6 text-center">
                                <a href="#" class="button blog-btn">Load More</a>
                            </div>
                        </div>
                        -->
                    </div>
                </div>
                

            </div>
        </div>

    </div>
    </section>
    <div>
    <!-- ====== // Contact Area ====== -->
</div>

<div style="margin-top:-15px;">
    <!-- ====== Footer Area ====== -->
    <footer class="footer-area">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="copyright-text">
                        <p class="text-white">© 2021 <a href="https://github.com/mnr-18/Privacy-preserving-Resource-Sharing">Privacy Preserving Resource Sharing System</a></p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- ====== // Footer Area ====== -->

</div>
    <!-- ====== ALL JS ====== -->
    <script src="view_resource_files/jquery-3.js"></script>
    <script src="view_resource_files/bootstrap.js"></script>
    <script src="view_resource_files/lightbox.js"></script>
    <script src="view_resource_files/owl.js"></script>
    <script src="view_resource_files/jquery.js"></script>
    <script src="view_resource_files/wow.js"></script>
    <script src="view_resource_files/typed.js"></script>
    <script src="view_resource_files/main.js"></script>

<script type="text/javascript">
   view_resource_onload= function(){
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
     var response = JSON.parse(xhttp.responseText);
      //var  response = xhttp.responseText;

      console.log(response.name); 
      const res = response.name;
      const capitalized = res.toUpperCase();
     document.getElementById("user").innerHTML= capitalized;

    //resource with index 0 
    console.log(response.resource0_name);       
    document.getElementById("resource0_name").innerHTML=response.resource0_name;
    document.getElementById("resource0_type").innerHTML=response.resource0_type;
    document.getElementById("resource0_date").innerHTML=response.resource0_date;
    //document.getElementById("resource0_info").innerHTML= 'Resource Category:' + ' ' + response.resource0_category + '<br>' + 'Resource ID:' + response.resource0_id;

    document.getElementById("resource0_catagory").innerHTML= response.resource0_category;


    //resource with index 1   
    console.log(response.resource1_name); 
    document.getElementById("resource1_name").innerHTML=response.resource1_name;
    document.getElementById("resource1_type").innerHTML=response.resource1_type;
    document.getElementById("resource1_date").innerHTML=response.resource1_date;
    //document.getElementById("resource1_info").innerHTML= 'Resource Category:' + ' ' + response.resource1_category + '<br>' + 'Resource ID:' + response.resource1_id;
    document.getElementById("resource1_catagory").innerHTML= response.resource1_category;


    //resource with index 2 
    const _ans = response.resource2_name;
    console.log(_ans);
    if(_ans !== 'null'){
        //x = document.getElementById("div1");
           // x.style.display = "block";

        document.getElementById("resource2_name").innerHTML=response.resource2_name;
        document.getElementById("resource2_type").innerHTML=response.resource2_type;
        document.getElementById("resource2_date").innerHTML=response.resource2_date;
        //document.getElementById("resource2_info").innerHTML= 'Resource Category:' + ' ' + response.resource2_category + '<br>' + 'Resource ID:' + response.resource2_id;
        document.getElementById("resource2_catagory").innerHTML= response.resource2_category;
    }
    

    //resource with index 3 
    const _ans1 = response.resource3_name;
    console.log(_ans1);
    if(_ans1 !== 'null'){
        //x1 = document.getElementById("div2");
            //x1.style.display = "block";

        document.getElementById("resource3_name").innerHTML=response.resource3_name;
        document.getElementById("resource3_type").innerHTML=response.resource3_type;
        document.getElementById("resource3_date").innerHTML=response.resource3_date;
        //document.getElementById("resource3_info").innerHTML= 'Resource Category:' + ' ' + response.resource3_category + '<br>' + 'Resource ID:' + response.resource3_id;
        document.getElementById("resource3_catagory").innerHTML= response.resource3_category;

    }

    //end of httpx        
    }
  };
  //xhttp.open("GET", "http://localhost:4000/profile", true);
  xhttp.open("GET", "http://localhost:4000/view_resource_onload", true);
  xhttp.send();
}

//................................................


//for navigating single_resource_v1.html page
//Begin of details1 button      
details1 = function(){

        var data1 = 0;
        data={index:data1}
        console.log(data);
          
          var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            
            var response = JSON.parse(xhttp.responseText);

            //var  response = xhttp.responseText;
            
            const res = response.id;
            console.log(res);

            const res1 = response.page_link;
            console.log(res1);

           window.open(res1, '_blank');
                   
       }//end of xhttp.ready state condition

       if(xhttp.readyState==4 && xhttp.status==403){
                      alert("Session End.");
                    }
    };
    xhttp.open("POST", "http://localhost:4000/view_resource_details_button", true);
    xhttp.setRequestHeader("Content-type", 'application/json; charset=UTF-8')
    xhttp.send(JSON.stringify(data));
    //xhttp.send();


                              
}

//End of of details1 button
//.................................

//...................................
//Begin of details2 button      
details2 = function(){

        var data1 = 1;
        data={index:data1}
        console.log(data);
          
          var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            
            var response = JSON.parse(xhttp.responseText);

            //var  response = xhttp.responseText;
            
            const res = response.id;
            console.log(res);

            const res1 = response.page_link;
            console.log(res1);

            window.open(res1, '_blank');
                   
       }//end of xhttp.ready state condition

       if(xhttp.readyState==4 && xhttp.status==403){
                      alert("Session End.");
                    }
    };
    xhttp.open("POST", "http://localhost:4000/view_resource_details_button", true);
    xhttp.setRequestHeader("Content-type", 'application/json; charset=UTF-8')
    xhttp.send(JSON.stringify(data));
    //xhttp.send();


                              
}

//End of of details2 button
//.................................

//...................................
//Begin of details3 button      
details3 = function(){

        var data1 = 2;
        data={index:data1}
        console.log(data);
          
          var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            
            var response = JSON.parse(xhttp.responseText);

            //var  response = xhttp.responseText;
            
            const res = response.id;
            console.log(res);

            const res1 = response.page_link;
            console.log(res1);

            window.open(res1, '_blank');
                   
       }//end of xhttp.ready state condition

       if(xhttp.readyState==4 && xhttp.status==403){
                      alert("Session End.");
                    }
    };
    xhttp.open("POST", "http://localhost:4000/view_resource_details_button", true);
    xhttp.setRequestHeader("Content-type", 'application/json; charset=UTF-8')
    xhttp.send(JSON.stringify(data));
    //xhttp.send();


                              
}

//End of of details3 button
//.................................


//...................................
//Begin of details4 button      
details4 = function(){

        var data1 = 3;
        data={index:data1}
        console.log(data);
          
          var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            
            var response = JSON.parse(xhttp.responseText);

            //var  response = xhttp.responseText;
            
            const res = response.id;
            console.log(res);

            const res1 = response.page_link;
            console.log(res1);

            window.open(res1, '_blank');
                   
       }//end of xhttp.ready state condition

       if(xhttp.readyState==4 && xhttp.status==403){
                      alert("Session End.");
                    }
    };
    xhttp.open("POST", "http://localhost:4000/view_resource_details_button", true);
    xhttp.setRequestHeader("Content-type", 'application/json; charset=UTF-8')
    xhttp.send(JSON.stringify(data));
    //xhttp.send();


                              
}

//End of of details4 button
//.................................
logout = function(){
console.log("Request to logout");

          var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            
            //var response = JSON.parse(xhttp.responseText);
            var  response = xhttp.responseText;
           console.log('logout response back:',response);
            
           if(response == 0){
            window.location.replace('http://localhost:4000/index_main.html');
           }
           

       }//end of xhttp.ready state condition

       if(xhttp.readyState==4 && xhttp.status==403){

                      alert("Session End.LogIn again");
                    }
    };
    
    xhttp.open("GET", "http://localhost:4000/logout", true);
    xhttp.setRequestHeader("Content-type", 'application/json; charset=UTF-8')
    //xhttp.send(JSON.stringify(data));
    xhttp.send();

}




</script>


</body></html>